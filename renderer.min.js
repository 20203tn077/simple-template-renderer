const _templates=new Map;function _fill(e,t){return Object.entries(t).reduce(((e,[t,l])=>e.replaceAll(`\${${t}}`,l)),e)}function render(e,t){let l="";if(!_templates.has(e))throw new Error("Template not found");const{templateString:r,element:n}=_templates.get(e);t&&(l=Array.isArray(t)?t.reduce(((e,t,l)=>{let n=r.replaceAll("#{index}",l).replaceAll("#{count}",l+1);return n=_fill(n,t),e+n}),""):_fill(r,t)),n.innerHTML=l}for(const e of document.querySelectorAll("[template]")){const t=e.parentElement,l=e.getAttribute("template");e.removeAttribute("template");const r=e.outerHTML;_templates.set(l,{templateString:r,element:t}),e.remove()}